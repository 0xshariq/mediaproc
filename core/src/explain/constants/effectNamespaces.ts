// effectNamespaces.ts
// Centralized effect ID naming for explain flag, supporting plugin-specific and generic names

export const EFFECT_NAMESPACES: Record<string, Record<string, string>> = {
  generic: {
    inputRead: 'io.input.read',
    outputWrite: 'io.output.write',
    dimensionsChange: 'media.dimensions.change',
    qualityChange: 'media.quality.change',
    formatConversion: 'media.format.conversion',
    metadataPreserved: 'media.metadata.preserve',
    externalTool: 'tool.external.invoke',
    noNetwork: 'network.none',
    compression: 'media.compression',
    decompression: 'media.decompression',
    normalization: 'data.normalization',
    denormalization: 'data.denormalization',
    filtering: 'media.filtering',
    enhancement: 'media.enhancement',
    segmentation: 'media.segmentation',
    aggregation: 'data.aggregation',
    splitting: 'data.splitting',
    merging: 'data.merging',
    validation: 'data.validation',
    encryption: 'security.encryption',
    decryption: 'security.decryption',
    hashing: 'security.hashing',
    streaming: 'io.streaming',
    caching: 'system.caching',
    tempFile: 'system.tempfile',
    logging: 'system.logging',
    cleanup: 'system.cleanup',
    preview: 'media.preview',
    thumbnail: 'media.thumbnail',
    conversion: 'media.conversion',
    download: 'network.download',
    upload: 'network.upload',
    extraction: 'data.extraction',
    transformation: 'data.transformation',
    analysis: 'data.analysis',
    synthesis: 'data.synthesis',
    detection: 'media.detection',
    recognition: 'media.recognition',
    annotation: 'media.annotation',
    rendering: 'media.rendering',
    export: 'io.export',
    import: 'io.import',
    pipeline: 'system.pipeline',
    scheduling: 'system.scheduling',
    notification: 'system.notification',
    monitoring: 'system.monitoring',
    errorHandling: 'system.errorHandling',
    fallback: 'system.fallback',
  },
  image: {
    inputRead: 'image.input.read',
    outputWrite: 'image.output.write',
    dimensionsChange: 'image.dimensions.change',
    qualityChange: 'image.quality.change',
    formatConversion: 'image.format.conversion',
    metadataPreserved: 'image.metadata.preserve',
    externalTool: 'tool.external.invoke',
    noNetwork: 'network.none',
    thumbnail: 'image.thumbnail',
    preview: 'image.preview',
    enhancement: 'image.enhancement',
    filtering: 'image.filtering',
    segmentation: 'image.segmentation',
    annotation: 'image.annotation',
    rendering: 'image.rendering',
    detection: 'image.detection',
    recognition: 'image.recognition',
    compression: 'image.compression',
    decompression: 'image.decompression',
    affine: 'image.affine',
    batch: 'image.batch',
    blur: 'image.blur',
    boolean: 'image.boolean',
    border: 'image.border',
    clahe: 'image.clahe',
    composite: 'image.composite',
    compress: 'image.compress',
    convolve: 'image.convolve',
    crop: 'image.crop',
    dilate: 'image.dilate',
    dominantColor: 'image.dominantColor',
    erode: 'image.erode',
    extend: 'image.extend',
    extract: 'image.extract',
    flatten: 'image.flatten',
    flip: 'image.flip',
    flop: 'image.flop',
    gamma: 'image.gamma',
    grayscale: 'image.grayscale',
    info: 'image.info',
    linear: 'image.linear',
    median: 'image.median',
    metadataCmd: 'image.metadataCmd',
    mirror: 'image.mirror',
    modulate: 'image.modulate',
    negate: 'image.negate',
    normalize: 'image.normalize',
    optimize: 'image.optimize',
    palette: 'image.palette',
    pixelate: 'image.pixelate',
    recomb: 'image.recomb',
    resize: 'image.resize',
    rotate: 'image.rotate',
    sepia: 'image.sepia',
    sharpen: 'image.sharpen',
    split: 'image.split',
    stack: 'image.stack',
    stats: 'image.stats',
    threshold: 'image.threshold',
    tint: 'image.tint',
    trim: 'image.trim',
    unflatten: 'image.unflatten',
    vignette: 'image.vignette',
    watermark: 'image.watermark',
  },
  audio: {
    inputRead: 'audio.input.read',
    outputWrite: 'audio.output.write',
    qualityChange: 'audio.quality.change',
    formatConversion: 'audio.format.conversion',
    metadataPreserved: 'audio.metadata.preserve',
    externalTool: 'tool.external.invoke',
    noNetwork: 'network.none',
    streaming: 'audio.streaming',
    enhancement: 'audio.enhancement',
    filtering: 'audio.filtering',
    segmentation: 'audio.segmentation',
    annotation: 'audio.annotation',
    detection: 'audio.detection',
    recognition: 'audio.recognition',
    compression: 'audio.compression',
    decompression: 'audio.decompression',
    convert: 'audio.convert',
    extract: 'audio.extract',
    merge: 'audio.merge',
    normalize: 'audio.normalize',
    trim: 'audio.trim',
  },
  video: {
    inputRead: 'video.input.read',
    outputWrite: 'video.output.write',
    dimensionsChange: 'video.dimensions.change',
    qualityChange: 'video.quality.change',
    formatConversion: 'video.format.conversion',
    metadataPreserved: 'video.metadata.preserve',
    externalTool: 'tool.external.invoke',
    noNetwork: 'network.none',
    streaming: 'video.streaming',
    enhancement: 'video.enhancement',
    filtering: 'video.filtering',
    segmentation: 'video.segmentation',
    annotation: 'video.annotation',
    detection: 'video.detection',
    recognition: 'video.recognition',
    compression: 'video.compression',
    decompression: 'video.decompression',
    rendering: 'video.rendering',
    preview: 'video.preview',
    thumbnail: 'video.thumbnail',
    convert: 'video.convert',
    compress: 'video.compress',
    extract: 'video.extract',
    merge: 'video.merge',
    resize: 'video.resize',
    transcode: 'video.transcode',
    trim: 'video.trim',
  },
  document: {
    inputRead: 'document.input.read',
    outputWrite: 'document.output.write',
    formatConversion: 'document.format.conversion',
    metadataPreserved: 'document.metadata.preserve',
    externalTool: 'tool.external.invoke',
    noNetwork: 'network.none',
    extraction: 'document.extraction',
    annotation: 'document.annotation',
    analysis: 'document.analysis',
    conversion: 'document.conversion',
    preview: 'document.preview',
    rendering: 'document.rendering',
  },
  // Add more plugin-specific namespaces as needed
};

export function getEffectId(plugin: string | undefined, effect: string): string {
  const ns = plugin && EFFECT_NAMESPACES[plugin] ? EFFECT_NAMESPACES[plugin] : EFFECT_NAMESPACES.generic;
  return ns[effect] || `custom.${effect}`;
}
